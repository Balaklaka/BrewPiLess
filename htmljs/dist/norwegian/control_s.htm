<!DOCTYPE html><html lang="nei"><head><meta http-equiv=content-type content="text/html; charset=utf-8"><meta name=viewport content="width=device-width,initial-scale=1"><title> BrewPiLess kontrollsenter! </title><meta name=apple-mobile-web-app-title content=BrewPiLess><meta name=apple-mobile-web-app-capable content=yes><script type=text/javascript src=/dygraph.min.js ignore></script><script>function invoke(e){var n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&(200==n.status?e.success(n.responseText):n.onerror(n.status))},n.ontimeout=function(){void 0!==e.timeout?e.timeout():n.onerror(-1)},n.onerror=function(n){void 0!==e.fail&&e.fail(n)},n.open(e.m,e.url,!0),void 0!==e.data?(n.setRequestHeader("Content-Type",void 0!==e.mime?e.mime:"application/x-www-form-urlencoded"),n.send(e.data)):n.send()}var BWF={process:function(msg){if(null!=this.raw)this.raw(msg);else for(var key in eval("m={"+msg+"}"),m)void 0!==this.handlers[key]&&this.handlers[key](m[key])},on:function(n,e){this.handlers[n]=e},send:function(n){1==this.ws.readyState&&this.ws.send(n)},reconnecting:!1,status:function(){return void 0===this.ws?-1:1==this.ws.readyState?0:1},connect:function(){var n,e=this;"undefined"!=typeof WebSocket?(n=new WebSocket("ws://"+document.location.host+"/ws"),(e.ws=n).onopen=function(){console.log("Connected"),e.onconnect()},n.onclose=function(){e.reconnecting||(console.log("WS close"),e.error(-2),e.auto&&setTimeout(function(){e.reconnect()},5e3))},n.onmessage=function(n){e.process(n.data)}):alert("Error! WebSocket Not Supported!")},reconnect:function(n){n=void 0!==n;var e=this;e.reconnecting||!n&&1==e.ws.readyState||(console.log("reconnect forced:"+n+" state:"+e.ws.readyState),e.reconnecting=!0,e.ws.close(),e.connect(),e.reconnecting=!1)},init:function(n){var e=this;e.error=void 0===n.error?function(){}:n.error,e.handlers=void 0===n.handlers?{}:n.handlers,e.raw=void 0===n.raw?null:n.raw,e.onconnect=void 0===n.onconnect?function(){}:n.onconnect,e.auto=void 0===n.reconnect||n.reconnect,e.connect()},save:function(n,e,o,t){invoke({m:"POST",url:"/fputs",data:"path="+n+"&content="+encodeURIComponent(e),success:function(){o()},fail:function(n){t(n)}})},load:function(n,e,o){invoke({m:"GET",url:n,success:function(n){e(n)},fail:function(n){o(n)}})}}</script><script>var JSVERSION="4.4";function s_ajax(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){4==t.readyState&&(200==t.status?e.success(t.responseText):t.onerror(t.status))},t.ontimeout=function(){void 0!==e.timeout?e.timeout():t.onerror(-1)},t.onerror=function(t){void 0!==e.fail&&e.fail(t)},t.open(e.m,e.url,!0),void 0!==e.data?(t.setRequestHeader("Content-Type",void 0!==e.mime?e.mime:"application/x-www-form-urlencoded"),t.send(e.data)):t.send()}var Q=function(t){return document.querySelector(t)};function doAll(t,e){document.querySelectorAll(t).forEach(function(t){e(t)})}function C2F(t){return Math.round(10*(1.8*t+32))/10}function F2C(t){return Math.round((t-32)/1.8*10)/10}function openDlgLoading(){document.getElementById("dlg_loading").style.display="block"}function closeDlgLoading(){document.getElementById("dlg_loading").style.display="none"}var BrewMath={abv:function(t,e){return(76.08*(t-e)/(1.775-t)*(e/.794)).toFixed(1)},abvP:function(t,e){return BrewMath.abv(BrewMath.pla2sg(t),BrewMath.pla2sg(e))},att:function(t,e){return Math.round((t-e)/(t-1)*100)},attP:function(t,e){return Math.round((t-e)/t*100)},sg2pla:function(t){return((182.4601*t-775.6821)*t+1262.7794)*t-669.5622},pla2sg:function(t){return 1+t/(258.6-t/258.2*227.1)},tempCorrectionF(t,e,n){return t*((1.00130346-.000134722124*e+204052596e-14*e*e-2.32820948e-9*e*e*e)/(1.00130346-.000134722124*n+204052596e-14*n*n-2.32820948e-9*n*n*n))},pTempCorrectionF(t,e,n){return BrewMath.sg2pla(BrewMath.tempCorrectionF(BrewMath.pla2sg(t),e,n))},tempCorrection(t,e,n,r){return t?BrewMath.tempCorrectionF(e,C2F(n),C2F(r)):BrewMath.tempCorrectionF(e,n,r)},pTempCorrection(t,e,n,r){return t?BrewMath.pTempCorrectionF(e,C2F(n),C2F(r)):BrewMath.tempCorrectionF(e,n,r)}};function getActiveNavItem(){var t=window.location.pathname.split("/").pop(),t=Q('.options>li>a[href="/'+(t=""==t?"index.htm":t)+'"]');t&&(t.className+="active")}function formatDate(t){var e=t.getHours(),n=t.getMinutes();function r(t){return t<10?"0"+t:t}return t.toLocaleDateString()+" "+r(e)+":"+r(n)}function formatDateForPicker(t){var e=t.getHours(),n=t.getMinutes();function r(t){return t<10?"0"+t:t}return t.getFullYear()+"-"+r(t.getMonth()+1)+"-"+r(t.getDate())+"T"+r(e)+":"+r(n)}Date.prototype.shortLocalizedString=function(){var t=this.getYear()+1900,t=new RegExp("[^d]?"+t+"[^d]?"),t=this.toLocaleDateString().replace(t,""),e=this.getHours(),n=this.getMinutes();function r(t){return 9<t?t:"0"+t}return t+" "+r(e)+":"+r(n)}</script><script>function TabPane(e){var i=this;function s(e){var t=document.getElementById(e+"-m");t.className.indexOf("nav-selected")<0&&(t.className+=" nav-selected"),document.getElementById(e+"-s").style.display="block",i.cmode=e}i.cmode=null;for(var t=0;t<e.length;t++){var a=e[t];document.getElementById(a+"-s").style.display="none",document.getElementById(a+"-m").onclick=function(){var e,t,a,n=this.id.replace(/-m$/,"");return e=i.cmode,t=document.getElementById(e+"-m"),a=t.className.replace(/\snav-selected/,""),t.className=a,document.getElementById(e+"-s").style.display="none",s(n),!1}}s(e[0]),i.select=s}var Capper={target_psi:0,psi_valid:!1,hidepset:function(e){this.psi_valid=!e,Q(".psi-set-group").style.display=e?"none":"block"},setpsi:function(e){this.target_psi=e,Q("#cappressure").value=e},init:function(){var e=Q(".capping-info-pane"),e=(e&&(e.style.display="none"),Q("#capper-frame"));e&&(e.style.display="none",this.initCtrl())},initCtrl:function(){var n=this,t=(n.tabs=new TabPane(["tab-gravity","tab-time","tab-manual"]),Q("#captimeinput"));n.time=new Date,t.onchange=function(){var e=new Date(t.value);isNaN(e.getTime())?n.setInputTime(n.time):n.setInputTime(e)},Q("#cap-apply").onclick=function(){var e,t=n.psi_valid?"psi="+n.target_psi+"&":"",a=n.tabs.cmode;"tab-gravity"==a?(e=Q("#capgravityinput").value,n.send(t+"sg="+e)):"tab-time"==a?(e=new Date(Q("#captimeinput").value),isNaN(e.getTime())?alert("Ugyldig tid"):n.send(t+"at="+e.getTime()/1e3)):Q("#capswitch").checked?n.send(t+"cap=1"):n.send(t+"cap=0")},n.hidepset(!0),Q("#cappressure").onchange=function(){n.target_psi=this.value}},send:function(e){console.log("send "+e),s_ajax({url:"cap?"+e,m:"GET",success:function(e){alert("Ferdig!")},fail:function(e){alert("kunne ikke angi Spunding ventil")}})},setcap:function(e){Q("#capstate-open")&&(e?(Q("#capstate-open").style.display="none",Q("#capstate-close").style.display="inline-block"):(Q("#capstate-open").style.display="inline-block",Q("#capstate-close").style.display="none"))},setInputTime:function(e){this.time=e;var t=Q("#captimeinput");t.value=("datetime-local"==t.type?formatDateForPicker:formatDate)(e)},status:function(e){void 0!==e.m&&0!=e.m&&(this.statusInfo(e),this.updateCtrl(e))},statusInfo:function(e){var t=Q(".capping-info-pane");if(t){t.style.display="block",this.setcap(e.c);for(var a=["","cs-manopen","cs-mancap","cs-timecon","cs-sgcon"],n=1;n<a.length;n++)n==e.m?Q("#"+a[n]).style.display="inline-block":Q("#"+a[n]).style.display="none";void 0!==e.g&&(Q("#capgravityset").innerHTML=e.g),void 0!==e.t&&(Q("#captimeset").innerHTML=formatDate(new Date(1e3*e.t)))}},updateCtrl:function(e){var t=Q("#capper-frame");t&&(t.style.display="block",void 0!==e.g&&(Q("#capgravityinput").value=e.g),void 0!==e.t?this.setInputTime(new Date(1e3*e.t)):this.setInputTime(new Date),1==e.m?Q("#capswitch").checked=!1:2==e.m&&(Q("#capswitch").checked=!0),2==e.pm)&&(this.hidepset(!1),this.setpsi(e.psi))},tunit:"C",calpsi:function(){"undefined"!=typeof BrewPiSetting&&(this.tunit=BrewPiSetting.tempUnit),Q("#dlg_carbonation").style.display="block"},calCancel:function(){Q("#dlg_carbonation").style.display="none"},calOk:function(){var e=Q("#carcal-psi").innerHTML;isNaN(e)||this.setpsi(e),Q("#dlg_carbonation").style.display="none"},cal:function(){var e=Q("#carcal-vol").value,t=Q("#carcal-temp").value,t=-16.6999-.0101059*(t="C"==this.tunit?C2F(t):t)+.00116512*t*t+.173354*t*e+4.24267*e-.0684226*e*e;Q("#carcal-psi").innerHTML=Math.round(t)}}</script><script>var valueurl="/ptc",saveurl="/ptc",PTC={fill:function(a){for(var i in a){var n=Q("input[name="+i+"]");n&&(n.value=a[i])}},apply:function(){for(var a=this.div.querySelectorAll("input"),i={},n=0;n<a.length;n++){var l=a[n];l.name&&""!=l.name&&(i[l.name]=parseFloat(l.value))}console.log("result="+JSON.stringify(i)),s_ajax({url:saveurl,m:"POST",mime:"application/x-www-form-urlencoded",data:"c="+encodeURI(JSON.stringify(i)),success:function(a){alert("done.")},fail:function(a){alert("failed updating data:"+a)}})},config:function(a){a.enabled&&(this.div.style.display="block",this.fill(a))},init:function(a){a.style.display="none",this.div=a}}</script><script>var BPURL="/tschedule",MAX_STEP=10;function formatDate(t){var e=t.getHours(),i=t.getMinutes();function n(t){return t<10?"0"+t:t}return t.toLocaleDateString()+" "+n(e)+":"+n(i)}function formatDateForPicker(t){var e=t.getHours(),i=t.getMinutes();function n(t){return t<10?"0"+t:t}return t.getFullYear()+"-"+n(t.getMonth()+1)+"-"+n(t.getDate())+"T"+n(e)+":"+n(i)}var profileEditor={dirty:!1,C_startday_Id:"#startdate",C_savebtn_Id:"savebtn",markdirty:function(t){this.dirty=t,document.getElementById(this.C_savebtn_Id).innerHTML=t?"Save*":"Save"},getStartDate:function(){return this.sd},setStartDate:function(t){this.sd=t;var e=Q(this.C_startday_Id);e.value=("datetime-local"==e.type?formatDateForPicker:formatDate)(t)},startDayChange:function(){var t=new Date(Q(this.C_startday_Id).value);isNaN(t.getTime())?this.setStartDate(this.sd):(this.sd=t,this.reorg(),this.markdirty(!0))},startnow:function(){var t=new Date;this.setStartDate(t),this.reorg(),this.markdirty(!0),ControlChart.update(this.chartdata())},rowList:function(){return document.getElementById("profile_t").getElementsByTagName("tbody")[0].getElementsByTagName("tr")},sgChange:function(t){!isNaN(t.innerHTML)||t.innerHTML.match(/^[\d]+%$/)||""==t.innerHTML?(t.saved=t.innerHTML,this.markdirty(!0)):t.innerHTML=t.saved},dayChange:function(t){""==t.innerHTML||isNaN(t.innerHTML)?t.innerHTML=t.saved:(this.markdirty(!0),this.reorg(),ControlChart.update(this.chartdata()))},tempChange:function(t){""==t.innerHTML||isNaN(t.innerHTML)?t.innerHTML=t.saved:(this.markdirty(!0),ControlChart.update(this.chartdata()))},stableChange:function(t){t.innerHTML.match(/^\s*(\d+)@(\d+)\s*$/)?(t.saved=t.innerHTML,this.markdirty(!0)):isNaN(t.innerHTML)?t.innerHTML=t.saved:(t.saved=parseInt(t.innerHTML),this.markdirty(!0))},initrow:function(t,e){var i=this,n=e.c,r=(t.type=n,t.getElementsByClassName("stage-temp")[0]),r=("r"==n?r.innerHTML="":(r.innerHTML=e.t,r.contentEditable=!0,r.onblur=function(){i.tempChange(this)},r.onfocus=function(){this.saved=this.innerHTML}),t.getElementsByClassName("stage-time")[0]),r=(r.innerHTML=e.d,r.contentEditable=!0,r.onblur=function(){i.dayChange(this)},r.onfocus=function(){this.saved=this.innerHTML},t.getElementsByClassName("stage-stabletime")[0]),a=t.getElementsByClassName("stage-sg")[0],a=("r"==n?(a.innerHTML="",r.innerHTML=""):(a.saved=e.g,a.innerHTML=void 0===e.g?"":e.g,a.contentEditable=!0,a.onblur=function(){i.sgChange(this)},a.onfocus=function(){this.saved=this.innerHTML},void 0===e.s?r.innerHTML="":r.innerHTML=void 0===e.x?e.s:e.x+"@"+e.s,r.contentEditable=!0,r.onblur=function(){i.stableChange(this)},r.onfocus=function(){this.saved=this.innerHTML}),t.getElementsByClassName("for-time")[0]),r=t.getElementsByClassName("condition")[0];"r"==n?(a.style.display="block",r.style.display="none"):(r.value=e.c,r.selectedIndex={t:0,g:1,a:3,s:2,o:4,u:5,v:6,b:7,x:8,w:9,e:10}[e.c],a.style.display="none",r.style.display="block")},datestr:function(t){return formatDate(new Date(this.sd.getTime()+1e3*Math.round(86400*t)))},reorg:function(){for(var t=this.rowList(),e=this.sd.getTime(),i=0;i<t.length;i++){var n=t[i],n=(n.className=i%2?"odd":"even",n.getElementsByClassName("diaplay-time")[0].innerHTML=formatDate(new Date(e)),this.rowTime(n));e+=1e3*Math.round(86400*n)}},chartdata:function(){var t=this.rowList();if(0==t.length||void 0===this.sd)return[];var e=this.sd.getTime(),i=t[0],n=this.rowTemp(i),r=[];r.push([new Date(e),n]);for(var a=0;a<t.length;a++){var o="r"==(i=t[a]).type?this.rowTemp(t[a+1]):this.rowTemp(i);e+=1e3*Math.round(86400*this.rowTime(i)),r.push([new Date(e),o])}return r},addRow:function(){var t,e=document.getElementById("profile_t").getElementsByTagName("tbody")[0],i=e.getElementsByTagName("tr");i.length>=MAX_STEP?alert("For mange trinn!"):(i=0==i.length?{c:"t",t:"C"==BrewPiSetting.tempUnit?20:68,d:1,g:1.01}:(i=i[i.length-1],t=this.row.cloneNode(!0),this.initrow(t,{c:"r",d:1}),e.appendChild(t),{c:"t",t:this.rowTemp(i),d:1,g:""}),t=this.row.cloneNode(!0),this.initrow(t,i),e.appendChild(t),this.reorg(),this.markdirty(!0),ControlChart.update(this.chartdata()))},delRow:function(){var t,e=this.rowList();0!=e.length&&(t=e[e.length-1],1<e.length&&(e=e[e.length-2]).parentNode.removeChild(e),t.parentNode.removeChild(t),this.markdirty(!0),ControlChart.update(this.chartdata()))},rowTemp:function(t){return parseFloat(t.getElementsByClassName("stage-temp")[0].innerHTML)},rowCondition:function(t){return t.getElementsByClassName("condition")[0].value},rowTime:function(t){return parseFloat(t.getElementsByClassName("stage-time")[0].innerHTML)},rowSg:function(t){return t.getElementsByClassName("stage-sg")[0].saved},rowSt:function(t){var e,t=t.getElementsByClassName("stage-stabletime")[0].innerHTML;return"string"!=typeof t?t:(e=t.match(/^\s*(\d+)@(\d+)\s*$/))?parseInt(e[2]):parseInt(t)},rowStsg:function(t){var t=t.getElementsByClassName("stage-stabletime")[0].innerHTML;return"string"==typeof t&&!!(t=t.match(/^\s*(\d+)@(\d+)\s*$/))&&parseInt(t[1])},renderRows:function(t){void 0===t.length&&console.log("error!");for(var e=document.getElementById("profile_t").getElementsByTagName("tbody")[0],i=0;i<t.length;i++){var n=this.row.cloneNode(!0);this.initrow(n,t[i]),e.appendChild(n)}this.reorg()},initable:function(t){var e;this.row?this.clear():(e=document.getElementById("profile_t").getElementsByTagName("tbody")[0],this.row=e.getElementsByTagName("tr")[0],e.removeChild(this.row)),this.renderRows(t)},clear:function(){for(var t=this.rowList(),e=(t.length,t.length-1);0<=e;e--){var i=t[e];i.parentNode.removeChild(i)}this.markdirty(!0)},getProfile:function(){for(var t=this.rowList(),e=[],i=0;i<t.length;i++){var n=t[i],r=this.rowTime(n);if(isNaN(r))return!1;if("r"==n.type)e.push({c:"r",d:r});else{var a=this.rowTemp(n);if(isNaN(a))return!1;if(a>BrewPiSetting.maxDegree||a<BrewPiSetting.minDegree)return!1;var o=this.rowCondition(n),r={c:o,d:r,t:a},a=this.rowSg(n);if(0<="gaobxwe".indexOf(o)){if(""==a)return!1;r.g=a}a=this.rowSt(n);if(0<="suvbxwe".indexOf(o)){if(isNaN(a))return!1;r.s=a;o=this.rowStsg(n);o&&(r.x=o)}e.push(r)}}return{s:parseInt(this.sd.getTime()/1e3),v:2,u:BrewPiSetting.tempUnit,t:e}},convertUnit:function(t,e){if(e!=BrewPiSetting.tempUnit)for(var i=0;i<t.length;i++)t[i].t=("F"==e?F2C:C2F)(t[i].t);return t},loadProfile:function(t){this.sd=new Date(1e3*t.s),this.clear(),this.renderRows(this.convertUnit(t.t,t.u)),ControlChart.update(this.chartdata())},initProfile:function(t){var e;void 0!==t?(e=new Date(1e3*t.s),this.setStartDate(e),this.initable(this.convertUnit(t.t,t.u))):(this.setStartDate(new Date),this.initable([]))},setTempUnit:function(t){if(t!=BrewPiSetting.tempUnit){for(var e=this.rowList(),i=0;i<e.length;i++){var n=e[i].querySelector("td.stage-temp"),r=parseFloat(n.innerHTML);isNaN(r)||(n.innerHTML=("C"==t?F2C:C2F)(r))}ControlChart.updateTU(t),ControlChart.update(this.chartdata())}}},PL={pl_path:"P",url_list:"/list",url_save:"/fputs",url_del:"/rm",url_load:"pl.php?ld=",div:"#profile-list-pane",shown:!1,initialized:!1,plist:[],path:function(t){return"/"+this.pl_path+"/"+t},depath:function(t){var e=t.startsWith("/")?"/"+this.pl_path+"/":this.pl_path+"/";return t.startsWith(e)?t.substring(e.length):t},rm:function(e){var i=this,t="path="+i.path(i.plist[e]);s_ajax({url:i.url_del,m:"DELETE",data:t,success:function(t){i.plist.splice(e,1),i.list(i.plist)},fail:function(t){alert("feilet:"+t)}})},load:function(t){t=this.path(this.plist[t]);s_ajax({url:t,m:"GET",success:function(t){t=JSON.parse(t);profileEditor.loadProfile(t)},fail:function(t){}})},list:function(t){for(var n=this,r=Q(n.div).querySelector(".profile-list"),e=r.querySelectorAll("li"),t=0;t<e.length;t++)r.removeChild(e[t]);var a=n.row;n.plist.forEach(function(t,e){var i=a.cloneNode(!0);i.querySelector(".profile-name").innerHTML=t,i.querySelector(".profile-name").onclick=function(t){return t.preventDefault(),n.load(e),!1},i.querySelector(".rmbutton").onclick=function(){n.rm(e)},r.appendChild(i)})},append:function(t){this.initialized&&(this.plist.push(t),this.list(this.plist))},init:function(){var e=this;e.initialized=!0,e.row=Q(e.div).querySelector("li"),e.row.parentNode.removeChild(e.row),s_ajax({url:e.url_list,m:"POST",data:"dir="+e.path(""),success:function(t){e.plist=[],JSON.parse(t).forEach(function(t){"file"==t.type&&e.plist.push(e.depath(t.name))}),e.list(e.plist)},fail:function(t){alert("feilet:"+t)}})},toggle:function(){this.initialized||this.init(),this.shown=!this.shown,this.shown?Q(this.div).style.display="block":Q(this.div).style.display="none"},saveas:function(){Q("#dlg_saveas").style.display="block"},cancelSave:function(){Q("#dlg_saveas").style.display="none"},doSave:function(){var t,e,i=Q("#dlg_saveas input").value;""==i||i.match(/[\W]/g)||(!1===(t=profileEditor.getProfile())?alert("Ugyldig verdi. Sjekk igjen"):(t="path="+(e=this).path(i)+"&content="+encodeURIComponent(JSON.stringify(t)),e=this,s_ajax({url:e.url_save,m:"POST",data:t,success:function(t){e.append(i),e.cancelSave()},fail:function(t){alert("feilet:"+t)}})))}},BrewPiSetting={valid:!1,maxDegree:30,minDegree:0,tempUnit:"C"},ControlChart={unit:"C",init:function(t,e,i){var n=this;n.data=e,n.unit=i;n.chart=new Dygraph(document.getElementById(t),n.data,{colors:["rgb(89, 184, 255)"],axisLabelFontSize:12,gridLineColor:"#ccc",gridLineWidth:"0.1px",labels:["Tid","Temperatur"],labelsDiv:document.getElementById(t+"-label"),legend:"always",labelsDivStyles:{textAlign:"right"},strokeWidth:1,axes:{y:{valueFormatter:function(t){return t.toFixed(1)+"&deg;"+n.unit},pixelsPerLabel:20,axisLabelWidth:35},x:{axisLabelFormatter:function(t){t=(d=new Date(t)).getYear()+1900,t=new RegExp("[^d]?"+t+"[^d]?");return d.toLocaleDateString().replace(t,"")},valueFormatter:function(t){return(d=new Date(t)).shortLocalizedString()},pixelsPerLabel:30,axisLabelWidth:40}},highlightCircleSize:2,highlightSeriesOpts:{strokeWidth:1.5,strokeBorderWidth:1,highlightCircleSize:5}})},update:function(t){0!=t.length&&(this.data=t,this.chart.updateOptions({file:this.data}))},updateTU:function(t){this.unit=t}},modekeeper={initiated:!1,modes:["profile","beer","fridge","off"],cmode:0,dselect:function(t){var e=document.getElementById(t+"-m"),i=document.getElementById(t+"-m").className.replace(/\snav-selected/,"");e.className=i,document.getElementById(t+"-s").style.display="none"},select:function(t){document.getElementById(t+"-m").className+=" nav-selected",document.getElementById(t+"-s").style.display="block"},init:function(){var e=this;if(!e.initiated){e.initiated=!0;for(var t=0;t<4;t++){var i=e.modes[t];document.getElementById(i+"-s").style.display="none",document.getElementById(i+"-m").onclick=function(){var t=this.id.replace(/-m/,"");return e.dselect(e.cmode),e.select(t),e.cmode=t,!1}}e.cmode="profile",e.select(e.cmode)}},apply:function(){var t;BrewPiSetting.valid||alert("Ikke koblet til kontroller."),"beer"==this.cmode||"fridge"==this.cmode?""==(t=document.getElementById(this.cmode+"-t").value)||isNaN(t)||t>BrewPiSetting.maxDegree||t<BrewPiSetting.minDegree?alert("Ugyldig temperatur:"+t):"beer"==this.cmode?BWF.send("j{mode:b, beerSet:"+t+"}"):(console.log("j{mode:f, fridgeSet:"+t+"}"),BWF.send("j{mode:f, fridgeSet:"+t+"}")):"off"==this.cmode?BWF.send("j{mode:o}"):profileEditor.dirty?alert("lagre profilen først før du bruker den"):(document.getElementById("dlg_beerprofilereminder").style.display="block",document.getElementById("dlg_beerprofilereminder").querySelector("button.ok").onclick=function(){document.getElementById("dlg_beerprofilereminder").style.display="none";var t=parseFloat(Q("#dlg_beerprofilereminder input").value);"function"==typeof updateOriginGravity&&updateOriginGravity(t),s_ajax({url:"gravity",m:"POST",mime:"application/json",data:JSON.stringify({name:"webjs",og:1,gravity:t}),success:function(t){BWF.send("j{mode:p}")},fail:function(t){alert("feilet:"+t)}})},document.getElementById("dlg_beerprofilereminder").querySelector("button.oknog").onclick=function(){document.getElementById("dlg_beerprofilereminder").style.display="none",BWF.send("j{mode:p}")},document.getElementById("dlg_beerprofilereminder").querySelector("button.cancel").onclick=function(){document.getElementById("dlg_beerprofilereminder").style.display="none"})}};function saveprofile(){var t=profileEditor.getProfile();!1===t?alert("Ugyldig verdi. Sjekk igjen"):(t=JSON.stringify(t),console.log("result="+t),s_ajax({url:BPURL,m:"POST",mime:"application/x-www-form-urlencoded",data:"data="+encodeURIComponent(t),success:function(t){profileEditor.markdirty(!1),alert("Ferdig")},fail:function(t){alert("kunne ikke lagres.")}}))}function updateTempUnit(t){for(var e=document.getElementsByClassName("t_unit"),i=0;i<e.length;i++)e[i].innerHTML=t}function rcvBeerProfile(t){closeDlgLoading(),updateTempUnit(t.u),BrewPiSetting.tempUnit=t.u,profileEditor.initProfile(t),ControlChart.init("tc_chart",profileEditor.chartdata(),t.u)}function ccparameter(t){t={valid:!0,minDegree:t.tempSetMin,maxDegree:t.tempSetMax,tempUnit:t.tempFormat};t.tempUnit!=BrewPiSetting.tempUnit&&(updateTempUnit(t.tempUnit),profileEditor.setTempUnit(t.tempUnit)),BrewPiSetting=t,s_ajax({url:BPURL,m:"GET",success:function(t){rcvBeerProfile(JSON.parse(t))}})}function HC_init(){Q("#humidity-control").style.display="none"}function HC_show(t){Q("#humidity-control").style.display="",Q("#hc-mode").value=t.m,Q("#hc-target").value=t.t}function HC_apply(){var t=Q("#hc-target").value,e=Q("#hc-mode").value;s_ajax({url:"/rh",m:"POST",data:"m="+e+"&t="+t,success:function(t){alert("Ferdig")},fail:function(t){alert("feilet:"+t)}})}function communicationError(){var t=Q(".error");t&&(t.innerHTML="Failed to connect to server.",t.style.display="block")}function initctrl(){getActiveNavItem(),Capper.init(),modekeeper.init(),PTC.init(Q("#ptc-control")),openDlgLoading(),BWF.init({onconnect:function(){BWF.send("c")},error:function(t){closeDlgLoading(),communicationError()},handlers:{A:function(t){void 0!==t.nn&&(Q("#hostname").innerHTML=t.nn),void 0!==t.ver&&(JSVERSION!=t.ver&&alert("Versjon stemmer ikke !. Last siden på nytt."),Q("#verinfo").innerHTML="v"+t.ver),void 0!==t.cap&&Capper.status(t.cap),void 0!==t.ptc&&PTC.config(t.ptc),void 0!==t.rh&&HC_show(t.rh)},C:function(t){ccparameter(t)}}})}</script><style>.dygraph-legend{position:absolute;font-size:14px;z-index:10;width:250px;background:#fff;line-height:normal;text-align:left;overflow:hidden}.dygraph-legend[dir=rtl]{text-align:right}.dygraph-legend-line{display:inline-block;position:relative;bottom:.5ex;padding-left:1em;height:1px;border-bottom-width:2px;border-bottom-style:solid}.dygraph-legend-dash{display:inline-block;position:relative;bottom:.5ex;height:1px;border-bottom-width:2px;border-bottom-style:solid}.dygraph-roller{position:absolute;z-index:10}.dygraph-annotation{position:absolute;z-index:10;overflow:hidden}.dygraph-default-annotation{border:1px solid #000;background-color:#fff;text-align:center}.dygraph-axis-label{z-index:10;line-height:normal;overflow:hidden;color:#000}.dygraph-title{font-weight:700;z-index:10;text-align:center}.dygraph-xlabel{text-align:center}.dygraph-label-rotate-left{text-align:center;transform:rotate(90deg);-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg)}.dygraph-label-rotate-right{text-align:center;transform:rotate(-90deg);-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-ms-transform:rotate(-90deg)}</style><link href="https://fonts.googleapis.com/css?family=Roboto" rel=stylesheet><style>*{-webkit-box-sizing:border-box;box-sizing:border-box;margin:0;padding:0}body,html{height:100%}a{text-decoration:none}html{line-height:1.5;font-family:Roboto,sans-serif;font-weight:400;color:rgba(0,0,0,.87)}@media only screen and (min-width:0){html{font-size:14px}}@media only screen and (min-width:992px){html{font-size:14.5px}}@media only screen and (min-width:1200px){html{font-size:15px}}h1,h2,h3,h4,h5,h6{font-weight:400;line-height:1.1}h1 a,h2 a,h3 a,h4 a,h5 a,h6 a{font-weight:inherit}h1{font-size:4.2rem;line-height:110%;margin:2.1rem 0 1.68rem 0}h2{font-size:3.56rem;line-height:110%;margin:1.78rem 0 1.424rem 0}h3{font-size:2.92rem;line-height:110%;margin:1.46rem 0 1.168rem 0}h4{font-size:2.28rem;line-height:110%;margin:1.14rem 0 .912rem 0}h5{font-size:1.64rem;line-height:110%;margin:.82rem 0 .656rem 0}h6{font-size:1rem;line-height:110%;margin:.5rem 0 .4rem 0}em{font-style:italic}strong{font-weight:500}small{font-size:75%}.light{font-weight:300}.thin{font-weight:200}html [layout],html [layout][horizontal],html [layout][vertical]{display:-webkit-box;display:-ms-flexbox;display:flex}html [layout][horizontal]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}html [layout][vertical]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}html [flex]{-webkit-box-flex:1;-ms-flex:1;flex:1;-ms-flex-preferred-size:1e-9px;flex-basis:1e-9px}html [layout][center-center],html [layout][cross-center]{-webkit-box-align:center;-ms-flex-align:center;align-items:center}html [layout][cross-end]{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}html [layout][center-center],html [layout][main-center]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}html [layout][main-justified]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}html [layout][main-distributed]{-ms-flex-pack:distribute;justify-content:space-around}html [hidden]{display:none!important}html [relative]{position:relative}.header{height:64px;background:#009688;-webkit-box-shadow:0 0 4px rgba(0,0,0,.14),0 4px 8px rgba(0,0,0,.28);box-shadow:0 0 4px rgba(0,0,0,.14),0 4px 8px rgba(0,0,0,.28);padding:0 16px;z-index:2}.header_title{font-size:32px;line-height:64px;color:#fff;margin:0;padding:0}.header_version-display{font-size:14px;color:#fff}@media (max-width:700px){[navigation] [menuToggle]{display:block;position:relative;z-index:1;top:3px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}}[navigation] input{display:none}@media (max-width:700px){[navigation] input{display:block;width:40px;height:32px;position:absolute;top:-7px;left:-5px;cursor:pointer;opacity:0;z-index:2;-webkit-touch-callout:none}[navigation] input:checked~ul{-webkit-transform:scale(1,1);transform:scale(1,1);opacity:1}[navigation] input:checked~span{opacity:1;-webkit-transform:rotate(45deg) translate(-2px,-1px);transform:rotate(45deg) translate(-2px,-1px);background:#232323}[navigation] input:checked~span:nth-last-child(3){opacity:0;-webkit-transform:rotate(0) scale(.2,.2);transform:rotate(0) scale(.2,.2)}[navigation] input:checked~span:nth-last-child(2){opacity:1;-webkit-transform:rotate(-45deg) translate(0,-1px);transform:rotate(-45deg) translate(0,-1px)}}[navigation] span{display:none}@media (max-width:700px){[navigation] span{display:block;width:33px;height:4px;margin-bottom:5px;position:relative;background:#fff;border-radius:3px;z-index:1;-webkit-transform-origin:4px 0;transform-origin:4px 0;-webkit-transition:background .5s cubic-bezier(.77,.2,.05,1),opacity .55s ease,-webkit-transform .5s cubic-bezier(.77,.2,.05,1);transition:background .5s cubic-bezier(.77,.2,.05,1),opacity .55s ease,-webkit-transform .5s cubic-bezier(.77,.2,.05,1);transition:transform .5s cubic-bezier(.77,.2,.05,1),background .5s cubic-bezier(.77,.2,.05,1),opacity .55s ease;transition:transform .5s cubic-bezier(.77,.2,.05,1),background .5s cubic-bezier(.77,.2,.05,1),opacity .55s ease,-webkit-transform .5s cubic-bezier(.77,.2,.05,1)}[navigation] span:first-child{-webkit-transform-origin:0 0;transform-origin:0 0}[navigation] span:nth-last-child(2){-webkit-transform-origin:0 100%;transform-origin:0 100%}}[navigation] .options{list-style-type:none;height:100%}[navigation] .options>li{display:inline-block;height:100%}[navigation] .options a{color:#fff;text-transform:uppercase;height:100%;padding:8px;display:inline-block;line-height:48px;border-bottom:3px solid transparent}[navigation] .options a.active{border-bottom:3px solid #ffc107}[navigation] .options a:hover{border-bottom:3px solid #fff}@media (max-width:700px){[navigation] .options{padding-top:64px;position:fixed;display:block;width:100vw;height:100vh;right:0;top:0;background:#ededed;list-style-type:none;-webkit-font-smoothing:antialiased;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:translate(100%,0);transform:translate(100%,0);-webkit-transition:-webkit-transform .5s cubic-bezier(.77,.2,.05,1);transition:-webkit-transform .5s cubic-bezier(.77,.2,.05,1);transition:transform .5s cubic-bezier(.77,.2,.05,1);transition:transform .5s cubic-bezier(.77,.2,.05,1),-webkit-transform .5s cubic-bezier(.77,.2,.05,1)}[navigation] .options>li{display:block;height:auto;text-align:center}[navigation] .options a{color:#222;height:auto;width:100%;display:block}[navigation] .options a.active{color:#ffc107;border:none}[navigation] .options a:hover{background:#ccc;border:none}}.footer{height:40px;background:#222;color:rgba(255,255,255,.87);padding:0 16px}.footer a{color:rgba(255,255,255,.87);font-weight:700}[viewport]{min-height:calc(100% - 104px)}@media (max-width:900px){[viewport]{-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important;min-height:0}}[main]{padding:16px;overflow-y:auto}@media (max-width:900px){[main]{overflow:initial}}@media (max-width:599px){[main]>[layout] .chart-legend{width:100%}}@media (max-width:599px){[main]>[layout]{-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important}}.error{position:fixed;left:20px;bottom:50px;background-color:#323232;padding:12px 24px 17px 24px;vertical-align:middle;color:#fff;-webkit-box-shadow:0 7px 18px rgba(0,0,0,.2);box-shadow:0 7px 18px rgba(0,0,0,.2)}.error:empty{display:none}input[type=datetime-local],input[type=number],input[type=password],input[type=text]{width:100%;max-width:280px;margin:16px 0;display:block;border:none;padding:18px 0 10px;border-bottom:solid 1px #009688;-webkit-transition:all .3s cubic-bezier(.64,.09,.08,1);transition:all .3s cubic-bezier(.64,.09,.08,1);background:-webkit-gradient(linear,left top,left bottom,color-stop(96%,rgba(255,255,255,0)),color-stop(4%,#009688));background:linear-gradient(to bottom,rgba(255,255,255,0) 96%,#009688 4%);background-position:-100% 0;background-size:100% 100%;background-repeat:no-repeat;color:#00302c}input[type=datetime-local]:focus,input[type=number]:focus,input[type=password]:focus,input[type=text]:focus{-webkit-box-shadow:none;box-shadow:none;outline:0;background-position:0 0}input[type=datetime-local]:focus::-webkit-input-placeholder,input[type=number]:focus::-webkit-input-placeholder,input[type=password]:focus::-webkit-input-placeholder,input[type=text]:focus::-webkit-input-placeholder{color:#009688;font-size:11px;-webkit-transform:translateY(-20px);transform:translateY(-20px);visibility:visible!important;-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out}input[type=datetime-local]:focus::-moz-placeholder,input[type=number]:focus::-moz-placeholder,input[type=password]:focus::-moz-placeholder,input[type=text]:focus::-moz-placeholder{color:#009688;font-size:11px;transform:translateY(-20px);visibility:visible!important;-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out}input[type=datetime-local]:focus::-ms-input-placeholder,input[type=number]:focus::-ms-input-placeholder,input[type=password]:focus::-ms-input-placeholder,input[type=text]:focus::-ms-input-placeholder{color:#009688;font-size:11px;transform:translateY(-20px);visibility:visible!important;-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out}input[type=datetime-local]:focus::placeholder,input[type=number]:focus::placeholder,input[type=password]:focus::placeholder,input[type=text]:focus::placeholder{color:#009688;font-size:11px;-webkit-transform:translateY(-20px);transform:translateY(-20px);visibility:visible!important;-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out}input[type=datetime-local]:invalid,input[type=number]:invalid,input[type=password]:invalid,input[type=text]:invalid{background:-webkit-gradient(linear,left top,left bottom,color-stop(96%,rgba(255,255,255,0)),color-stop(4%,red));background:linear-gradient(to bottom,rgba(255,255,255,0) 96%,red 4%)}.hide{display:none!important}.card{display:block;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);-webkit-transition:all .3s cubic-bezier(.25,.8,.25,1);transition:all .3s cubic-bezier(.25,.8,.25,1);padding:16px;position:relative;margin-bottom:16px}.card:hover{-webkit-box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22)}.card-footer{padding:16px 0 0;margin:8px 0 0;border-top:1px solid #ccc;text-align:right}.inline-header{width:140px;min-width:140px;font-weight:700;padding-right:8px}.small-heading{font-size:20px;padding:16px 0 8px}.btn{display:inline-block;position:relative;cursor:pointer;height:35px;line-height:35px;padding:0 1.5rem;font-size:15px;font-weight:600;letter-spacing:.8px;text-align:center;text-transform:uppercase;vertical-align:middle;white-space:nowrap;outline:0;border:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-transition:all .3s ease-out;transition:all .3s ease-out;background-color:transparent;margin-right:8px}.btn[disabled]{color:#bdbdbd}.btn[disabled]:hover{background-color:transparent;cursor:not-allowed}.btn--raised{background-color:#009688;color:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12);box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12)}.btn--raised:hover{background-color:#00635a}.btn--primary{color:#009688}.btn:hover{background-color:rgba(153,153,153,.2);cursor:pointer}.modal{display:none;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;position:fixed;top:0;left:0;right:0;bottom:0;overflow-y:auto;overflow-x:hidden;z-index:1000;-webkit-transition:all .5s cubic-bezier(.23,1,.32,1);transition:all .5s cubic-bezier(.23,1,.32,1);-webkit-transition-delay:0s;transition-delay:0s;background:rgba(0,0,0,.3)}.modal-content{position:relative;padding:2.4rem;background:#fff;background-clip:padding-box;-webkit-box-shadow:0 12px 15px 0 rgba(0,0,0,.25);box-shadow:0 12px 15px 0 rgba(0,0,0,.25);-webkit-transition:all .25s cubic-bezier(.23,1,.32,1);transition:all .25s cubic-bezier(.23,1,.32,1);max-width:600px;padding:2rem;margin-left:auto;margin-right:auto}.modal-content h2.message{font-size:18px;font-weight:700;text-transform:uppercase}select.md{width:100%;font-size:16px;height:25.6px;padding:4 4 2;background:0 0;border:none;line-height:1.6;-webkit-box-shadow:none;box-shadow:none}.switch-input{display:none}.switch-label{position:relative;display:inline-block;min-width:148px;cursor:pointer;font-weight:500;text-align:left;margin:0;padding:4px 0 4px 44px}.switch-label:after,.switch-label:before{content:"";position:absolute;margin:0;outline:0;top:50%;-webkit-transform:translate(0,-50%);transform:translate(0,-50%);-webkit-transition:all .3s ease;transition:all .3s ease}.switch-label:before{left:1px;width:34px;height:14px;background-color:#ddd;border-radius:8px}.switch-label:after{left:0;width:20px;height:20px;background-color:#fafafa;border-radius:50%;-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.14),0 2px 2px 0 rgba(0,0,0,.098),0 1px 5px 0 rgba(0,0,0,.084);box-shadow:0 3px 1px -2px rgba(0,0,0,.14),0 2px 2px 0 rgba(0,0,0,.098),0 1px 5px 0 rgba(0,0,0,.084)}.switch-input:checked+.switch-label:after{background-color:#4caf50;-webkit-transform:translate(80%,-50%);transform:translate(80%,-50%)}.switch-input:checked+label[for=beer-temp].switch-label:after{background-color:#29aa29}.switch-input:checked+label[for=beer-set].switch-label:after{background-color:#f06464}.switch-input:checked+label[for=fridge-temp].switch-label:after{background-color:#59b8ff}.switch-input:checked+label[for=fridge-set].switch-label:after{background-color:#ffa14c}.switch-input:checked+label[for=room-temp].switch-label:after{background-color:#aaa}.switch-input:checked+label[for=gravity].switch-label:after{background-color:#909}.switch-input:checked+label[for=aux-temp].switch-label:after{background-color:#f5e127}.switch-input:checked+label[for=filtersg].switch-label:after{background-color:#000abb}.switch-input:checked+label[for=pressure].switch-label:after{background-color:#00e}.switch-input:checked+label[for=pressure-set].switch-label:after{background-color:#f06464}.switch-input:checked+label[for=carbonation].switch-label:after{background-color:#aaa}.switch-input:checked+label[for=humidity].switch-label:after{background-color:#22d}.switch-input:checked+label[for=humidity-set].switch-label:after{background-color:#e11}.switch-input:checked+label[for=room-humidity].switch-label:after{background-color:#aaa}.switch-input:checked+label[for=sgchange1].switch-label:after{background-color:#d3d}.switch-input:checked+label[for=sgchange2].switch-label:after{background-color:#33d}.switch-input:checked+label[for=sgchange3].switch-label:after{background-color:#3d3}.navbar{border-bottom:1px solid #e0e0e0}.navitems{position:relative;display:block;padding:0}.navitem{position:relative;display:inline-block;text-decoration:none;padding:22px;text-transform:uppercase;font-size:14px;font-weight:600;color:#424f5a;text-align:center;outline:0}.navitem.nav-selected{color:#009688;outline:0}.navitem:not(.nav-selected):hover{background-color:inherit;color:#ffc107}.yellow-bar{position:absolute;z-index:10;bottom:0;height:3px;background:#458cff;display:block;left:0;transition:left .2s ease;-webkit-transition:left .2s ease}.profileTable td,th{padding:6px 4px;text-align:center}.profileTable td:not(:last-child),th:not(:last-child){border-right:1px solid rgba(0,0,0,.87)}.profileTable tbody:empty:before{content:"No data.";padding:16px;display:block}.profileTable tbody tr.odd{background:#eee}.profileTable tbody tr.even{background:#fff}.for-time{margin-left:8px;text-align:left}table.profileTable{width:100%;border-collapse:collapse}table.profileTable thead{border-bottom:1px solid rgba(0,0,0,.87)}.profile-load-heading{font-size:18px;text-transform:uppercase;margin-top:0;text-align:center}.btn--delete{content:url("data:image/svg+xml; utf8, <svg fill='#000000' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z'/><path d='M0 0h24v24H0z' fill='none'/></svg>")}.start-date{font-weight:700;text-transform:uppercase;display:inline-block;margin-right:16px}.spacing{margin:8px 0}.condition-con{position:relative}@media (max-width:900px){#profile-s{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}#profile-edit{margin:6px;width:510px;position:relative}@media (max-width:900px){#profile-edit{width:48%}}#tc_chart{width:calc(100% - 510px);min-width:360px;float:right;height:390px;margin:16px 0}@media (max-width:900px){#tc_chart{width:38%}}</style></head><body onload=initctrl()><header layout horizontal main-justified cross-center relative class=header><h1 class=header_title><span id=hostname>BrewPiLess</span> <span id=verinfo class=header_version-display></span></h1><div navigation><div menutoggle><input type=checkbox> <span></span> <span></span> <span></span><ul class=options><li><a href=/index.htm> graf </a></li><li><a href=/control.htm> kontroll </a></li><li><a href=/logging.htm> logger </a></li><li><a href=/setup.htm> oppsett </a></li><li><a href=/config.htm> config </a></li><li><a href=/gravity.htm> egenvekt </a></li><li><a href=/pressure.htm> Trykk </a></li></ul></div></div></header><div viewport layout vertical><div main class=card><div class=navbar horizontal layout main-justified cross-center><div class=navitems><a class=navitem id=profile-m href=#profile-s> Ølprofil </a><a class=navitem id=beer-m href=#beer-s> Øl Const. </a><a class=navitem id=fridge-m href=#fridge-s> Kjøleskap Const. </a><a class=navitem id=off-m href=#off-s> Av </a></div><button id=modekeeper-apply class="btn btn--raised" style=max-width:200px onclick=modekeeper.apply()>Bruk</button></div><div id=profile-s layout horizontal><div style=display:inline-flex><div id=profile-edit><div layout horizontal main-justified cross-center><div layout horizontal cross-center><span class=start-date>Startdato:</span><input type=datetime-local style="max-width:200px;margin:8px 0 16px" id=startdate onchange=profileEditor.startDayChange()> <button id=setnow class=btn onclick=profileEditor.startnow()>Nå</button></div></div><div layout horizontal main-justified cross-center class=spacing><button id=addbutton onclick=profileEditor.addRow() class="btn btn--raised">Legg til</button><div layout horizontal><button id=delbtn class=btn onclick=profileEditor.delRow()>Slett siste element</button> <button id=clearbtn class=btn onclick=profileEditor.clear()>Fjern alt</button></div></div><table class=profileTable id=profile_t><thead><tr><th>&deg;<span class=t_unit>C</span></th><th> Tilstand </th><th> Dager </th><th> SG </th><th> Stabil </th><th> Starttid </th></tr></thead><tbody><tr><td class=stage-temp>19</td><td><div class=for-time> Rampe </div><div class=condition-con><select class="condition md"><option value=t>Tid</option><option value=g>SG</option><option value=s>Stabil</option><option value=a>Tid & SG</option><option value=o>Tid ELLER SG</option><option value=u>Tid ELLER Stabil</option><option value=v>Tid og Stabil</option><option value=b>SG ELLER Stabil</option><option value=x>SG & Stable</option><option value=w>Alle</option><option value=e>Enten</option></select></div></td><td class=stage-time>7</td><td class=stage-sg>1.01</td><td class=stage-stabletime></td><td class=diaplay-time></td></tr></tbody></table><div layout horizontal main-justified cross-center class=spacing><div layout horizontal><button id=savebtn class="btn btn--raised" onclick=saveprofile()>Lagre</button> <button id=saveasbtn class=btn onclick=PL.saveas()>Lagre som</button></div><button id=loadbtn class=btn onclick=PL.toggle()>Last</button></div></div><div id=tc_chart></div></div></div><div id=beer-s class=detail style="margin:16px 0" layout horizontal cross-center><span>Angi øltemp:</span><input type=number size=6 id=beer-t style=max-width:200px>&deg;<span class=t_unit>C</span></div><div id=fridge-s class=detail style="margin:16px 0" layout horizontal cross-center><span> Angi kjøleskapstemp:</span><input type=number size=6 id=fridge-t style=max-width:200px>&deg;<span class=t_unit>C</span></div><div id=off-s class=detail><span style="margin:16px 0">Slå temperaturkontroll <strong>off</strong>.</span></div></div><div class=card id=capper-frame><div layout horizontal main-justified cross-center><div layout horizontal cross-center> CAPPING CONTROL </div></div><div class=navbar horizontal layout main-justified cross-center id=cap-header><div class=navitems><a href=#tab-gravity-m class=navitem id=tab-gravity-m> Hydrometer </a><a href=#tab-time-m class=navitem id=tab-time-m> Tid </a><a href=#tab-manual-m class=navitem id=tab-manual-m> Manual </a><button id=cap-apply class="btn btn--raised" style=max-width:200px>Bruk</button></div></div><div class=tab-containter horizontal layout main-justified cross-center><div id=tab-gravity-s main-justified cross-center><div style=margin:16px> Lukk når OG er mindre enn <input type=number step=0.001 size=6 id=capgravityinput style=max-width:100px;margin:16px></div></div><div id=tab-time-s><div style=margin:16px><label for=captimeinput style=min-width:0> Lukk etter </label> <input type=datetime-local style=max-width:200px;margin:16px id=captimeinput></div></div><div id=tab-manual-s><div style=margin:16px><input type=checkbox id=capswitch name=capswitch class=switch-input checked> <label for=capswitch class=switch-label style=min-width:0>Lukket</label></div></div></div><div class=psi-set-group layout horizontal main-justified cross-center inline-flex>to <input type=number step=1 size=6 id=cappressure style=max-width:60px;margin:16px;display:inline>psi <button class=btn onclick=Capper.calpsi()>...</button></div></div><div id=ptc-control class=card horizontal layout main-justified cross-center> Glycol tempratur kontroller <div layout horizontal cross-center><h6 class=inline-header> Ønsket Tempratur </h6><input type=text name=temp size=4> &deg;C</div><div layout horizontal cross-center><h6 class=inline-header> Utløsende temperatur </h6><input type=text name=stemp size=4> &deg;C</div><div layout horizontal cross-center><h6 class=inline-header> Minimum kjøle tid </h6><input type=text name=mincool size=4> Sekunder </div><div layout horizontal cross-center><h6 class=inline-header> Miminum vente tid </h6><input type=text name=minidle size=4> Sekunder </div><div class=card-footer><button class="btn btn--raised" style=max-width:200px onclick=PTC.apply()>Bruk</button></div></div><div id=humidity-control class=card horizontal layout main-justified cross-center><h6>Humidity Control</h6><div layout horizontal cross-center><h6 class=inline-header>Mode</h6><select id=hc-mode><option value=0>Off</option><option value=1>Control</option></select></div><div layout horizontal cross-center><h6 class=inline-header>Target Relative Humidity</h6><input type=text id=hc-target name=target-humidity size=4> %</div><div class=card-footer><button class="btn btn--raised" style=max-width:200px onclick=HC_apply()>Bruk</button></div></div></div><footer layout horizontal main-justified cross-center class=footer><span>BrewPiLess by <a href=https://github.com/vitotai/ >vitotai</a></span> <span><a href=https://github.com/vitotai/BrewPiLess/ >project on GitHub</a></span></footer><div class=error></div><div id=dlg_carbonation class=modal><div class=modal-content> Ønsket CO2 Volum: <input id=carcal-vol type=number step=0.1 size=6 onchange=Capper.cal() value=2.5 style=max-width:60px;margin:6px;display:inline><br> Tempratur i øl: <input id=carcal-temp type=number step=1 size=6 onchange=Capper.cal() style=max-width:60px;margin:6px;display:inline> &deg;<span class=t_unit>C</span><br> Trykk: <span id=carcal-psi></span> psi<hr style="margin:12px 0 12px 0"><div class=dialog-buttons style=text-align:center><button class="btn btn--raised" onclick=Capper.calCancel()>Avbryt</button> <button class="btn btn--raised" onclick=Capper.calOk()>OK</button></div></div></div><div id=dlg_loading class=modal><div class=modal-content><p> Kommunisere med BrewPiLess-kontroller ... </p></div></div><div id=profile-list-pane class=modal><div class=modal-content><h2 class=profile-load-heading> carica Profilo </h2><hr style=margin:4px><ul class=profile-list><li layout horizontal main-justified><a href=# class=profile-name></a> <button class="btn rmbutton" style=color:red>DEL</button></li></ul><button class="btn btn--raised" onclick=PL.toggle()>Avbryt</button></div></div><div id=dlg_beerprofilereminder class=modal><div class=modal-content> <p> Merk: </p> <p> for at ølprofil skal fungere ordentlig, </p> <p> <strong> Opprinnelig OG må spesifiseres </strong> hvis SG er spesifisert som en prosentandel (%), og <strong> Lokal logging må aktiveres </strong> hvis gravstabilt OG brukes. </p> OG:  <input type=text size=6 value=1.0><div class=dialog-buttons><button class="oknog btn">OK, bare gå</button> <button class="ok btn btn--raised">Angi OG, og gå</button> <button class="cancel btn btn--raised">Avbryt</button></div></div></div><div id=dlg_saveas class=modal><div class=modal-content><span class=msg>Lagre profil som</span><br><input type=text size=32><br> * Ingen spesielle bokstaver og mellomrom tillatt. <button onclick=PL.cancelSave() class="btn btn--raised">Avbryt</button> <button onclick=PL.doSave() class=btn>OK</button></div></div></body></html>